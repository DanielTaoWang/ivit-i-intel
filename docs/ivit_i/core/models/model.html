<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>ivit_i.core.models.model API documentation</title>
<meta name="description" content="Copyright (C) 2020-2023 Intel Corporation â€¦" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>ivit_i.core.models.model</code></h1>
</header>
<section id="section-intro">
<p>Copyright (C) 2020-2023 Intel Corporation</p>
<p>Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>
<pre><code> &lt;http://www.apache.org/licenses/LICENSE-2.0&gt;
</code></pre>
<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="ivit_i.core.models.model.Model"><code class="flex name class">
<span>class <span class="ident">Model</span></span>
<span>(</span><span>model_adapter, configuration=None, preload=False)</span>
</code></dt>
<dd>
<div class="desc"><p>An abstract model wrapper</p>
<p>The abstract model wrapper is free from any executor dependencies.
It sets the <code>ModelAdapter</code> instance with the provided model
and defines model inputs/outputs.</p>
<p>Next, it loads the provided configuration variables and sets it as wrapper attributes.
The keys of the configuration dictionary should be presented in the <code>parameters</code> method.</p>
<p>Also, it decorates the following adapter interface:
- Loading the model to the device
- The model reshaping
- Synchronous model inference
- Asynchronous model inference</p>
<p>The <code>preprocess</code> and <code>postprocess</code> methods must be implemented in a specific inherited wrapper.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>logger</code></strong> :&ensp;<code>Logger</code></dt>
<dd>instance of the Logger</dd>
<dt><strong><code>model_adapter</code></strong> :&ensp;<code>ModelAdapter</code></dt>
<dd>allows working with the specified executor</dd>
<dt><strong><code>inputs</code></strong> :&ensp;<code>dict</code></dt>
<dd>keeps the model inputs names and <code>Metadata</code> structure for each one</dd>
<dt><strong><code>outputs</code></strong> :&ensp;<code>dict</code></dt>
<dd>keeps the model outputs names and <code>Metadata</code> structure for each one</dd>
<dt><strong><code>model_loaded</code></strong> :&ensp;<code>bool</code></dt>
<dd>a flag whether the model is loaded to device</dd>
</dl>
<p>Model constructor</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>model_adapter</code></strong> :&ensp;<code>ModelAdapter</code></dt>
<dd>allows working with the specified executor</dd>
<dt><strong><code>configuration</code></strong> :&ensp;<code>dict</code>, optional</dt>
<dd>it contains values for parameters accepted by specific
wrapper (<code>confidence_threshold</code>, <code>labels</code> etc.) which are set as data attributes</dd>
<dt><strong><code>preload</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>a flag whether the model is loaded to device while
initialization. If <code>preload=False</code>, the model must be loaded via <code>load</code> method before inference</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code><a title="ivit_i.core.models.model.WrapperError" href="#ivit_i.core.models.model.WrapperError">WrapperError</a></code></dt>
<dd>if the wrapper configuration is incorrect</dd>
</dl></div>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="ivit_i.core.models.image_model.ImageModel" href="image_model.html#ivit_i.core.models.image_model.ImageModel">ImageModel</a></li>
</ul>
<h3>Static methods</h3>
<dl>
<dt id="ivit_i.core.models.model.Model.available_wrappers"><code class="name flex">
<span>def <span class="ident">available_wrappers</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ivit_i.core.models.model.Model.create_model"><code class="name flex">
<span>def <span class="ident">create_model</span></span>(<span>name, model_adapter, configuration=None, preload=False)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ivit_i.core.models.model.Model.get_model"><code class="name flex">
<span>def <span class="ident">get_model</span></span>(<span>name)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ivit_i.core.models.model.Model.get_subclasses"><code class="name flex">
<span>def <span class="ident">get_subclasses</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ivit_i.core.models.model.Model.parameters"><code class="name flex">
<span>def <span class="ident">parameters</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Defines the description and type of configurable data parameters for the wrapper.</p>
<p>See <code>types.py</code> to find available types of the data parameter. For each parameter
the type, default value and description must be provided.</p>
<p>The example of possible data parameter:
'confidence_threshold': NumericalValue(
default_value=0.5, description="Threshold value for detection box confidence"
)</p>
<p>The method must be implemented in each specific inherited wrapper.</p>
<h2 id="returns">Returns</h2>
<ul>
<li>the dictionary with defined wrapper data parameters</li>
</ul></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="ivit_i.core.models.model.Model.await_all"><code class="name flex">
<span>def <span class="ident">await_all</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ivit_i.core.models.model.Model.await_any"><code class="name flex">
<span>def <span class="ident">await_any</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ivit_i.core.models.model.Model.infer_async"><code class="name flex">
<span>def <span class="ident">infer_async</span></span>(<span>self, dict_data, callback_data)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ivit_i.core.models.model.Model.infer_sync"><code class="name flex">
<span>def <span class="ident">infer_sync</span></span>(<span>self, dict_data)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ivit_i.core.models.model.Model.is_ready"><code class="name flex">
<span>def <span class="ident">is_ready</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ivit_i.core.models.model.Model.load"><code class="name flex">
<span>def <span class="ident">load</span></span>(<span>self, force=False)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ivit_i.core.models.model.Model.log_layers_info"><code class="name flex">
<span>def <span class="ident">log_layers_info</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Prints the shape, precision and layout for all model inputs/outputs.</p></div>
</dd>
<dt id="ivit_i.core.models.model.Model.postprocess"><code class="name flex">
<span>def <span class="ident">postprocess</span></span>(<span>self, outputs, meta)</span>
</code></dt>
<dd>
<div class="desc"><p>Interface for postprocess method.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>outputs</code></strong> :&ensp;<code>dict</code></dt>
<dd>model raw output in the following format:
{
'output_layer_name_1': raw_result_1,
'output_layer_name_2': raw_result_2,
&hellip;
}</dd>
<dt><strong><code>meta</code></strong> :&ensp;<code>dict</code></dt>
<dd>the input metadata obtained from <code>preprocess</code> method</dd>
</dl>
<h2 id="returns">Returns</h2>
<ul>
<li>postprocessed data in the format defined by wrapper</li>
</ul></div>
</dd>
<dt id="ivit_i.core.models.model.Model.preprocess"><code class="name flex">
<span>def <span class="ident">preprocess</span></span>(<span>self, inputs)</span>
</code></dt>
<dd>
<div class="desc"><p>Interface for preprocess method.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>inputs</code></strong></dt>
<dd>raw input data, the data type is defined by wrapper</dd>
</dl>
<h2 id="returns">Returns</h2>
<ul>
<li>the preprocessed data which is submitted to the model for inference
and has the following format:
{
'input_layer_name_1': data_1,
'input_layer_name_2': data_2,
&hellip;
}</li>
<li>the input metadata, which might be used in <code>postprocess</code> method</li>
</ul></div>
</dd>
<dt id="ivit_i.core.models.model.Model.raise_error"><code class="name flex">
<span>def <span class="ident">raise_error</span></span>(<span>self, message)</span>
</code></dt>
<dd>
<div class="desc"><p>Raises the WrapperError.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>message</code></strong> :&ensp;<code>str</code></dt>
<dd>error message to be shown in the following format:
"WrapperName: message"</dd>
</dl></div>
</dd>
<dt id="ivit_i.core.models.model.Model.reshape"><code class="name flex">
<span>def <span class="ident">reshape</span></span>(<span>self, new_shape)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="ivit_i.core.models.model.WrapperError"><code class="flex name class">
<span>class <span class="ident">WrapperError</span></span>
<span>(</span><span>wrapper_name, message)</span>
</code></dt>
<dd>
<div class="desc"><p>Special class for errors occurred in Model API wrappers</p></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.RuntimeError</li>
<li>builtins.Exception</li>
<li>builtins.BaseException</li>
</ul>
</dd>
<dt id="ivit_i.core.models.model.iModel"><code class="flex name class">
<span>class <span class="ident">iModel</span></span>
<span>(</span><span>model_path:Â unicode, label_path:Â unicode, device:Â unicode, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Helper class that provides a standard way to create an ABC using
inheritance.</p>
<p>Initialize ivit model
Args
- model_path: path to model file ( xml )
- label_path: path to label file
- device: supported [ 'CPU', 'GPU' ]
- async_mode: need async mode
- custom ( ** kwargs ): each model custom option</p>
<p>Initialize
1. Model Adaptor
2. Model Wrapper
3.</p></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="ivit_i.core.models.classification.iClassification" href="classification.html#ivit_i.core.models.classification.iClassification">iClassification</a></li>
<li><a title="ivit_i.core.models.detection_model.iDetection" href="detection_model.html#ivit_i.core.models.detection_model.iDetection">iDetection</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="ivit_i.core.models.model.iModel.get_fps"><code class="name flex">
<span>def <span class="ident">get_fps</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ivit_i.core.models.model.iModel.get_labels"><code class="name flex">
<span>def <span class="ident">get_labels</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ivit_i.core.models.model.iModel.get_thres"><code class="name flex">
<span>def <span class="ident">get_thres</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ivit_i.core.models.model.iModel.inference"><code class="name flex">
<span>def <span class="ident">inference</span></span>(<span>self, frame)</span>
</code></dt>
<dd>
<div class="desc"><p>Do inference</p></div>
</dd>
<dt id="ivit_i.core.models.model.iModel.release"><code class="name flex">
<span>def <span class="ident">release</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ivit_i.core.models.model.iModel.set_inference"><code class="name flex">
<span>def <span class="ident">set_inference</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Get Inference Pipeline</p></div>
</dd>
<dt id="ivit_i.core.models.model.iModel.set_thres"><code class="name flex">
<span>def <span class="ident">set_thres</span></span>(<span>self, thres_value)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ivit_i.core.models.model.iModel.sync_infer"><code class="name flex">
<span>def <span class="ident">sync_infer</span></span>(<span>self, frame)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="ivit_i.core.models" href="index.html">ivit_i.core.models</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="ivit_i.core.models.model.Model" href="#ivit_i.core.models.model.Model">Model</a></code></h4>
<ul class="two-column">
<li><code><a title="ivit_i.core.models.model.Model.available_wrappers" href="#ivit_i.core.models.model.Model.available_wrappers">available_wrappers</a></code></li>
<li><code><a title="ivit_i.core.models.model.Model.await_all" href="#ivit_i.core.models.model.Model.await_all">await_all</a></code></li>
<li><code><a title="ivit_i.core.models.model.Model.await_any" href="#ivit_i.core.models.model.Model.await_any">await_any</a></code></li>
<li><code><a title="ivit_i.core.models.model.Model.create_model" href="#ivit_i.core.models.model.Model.create_model">create_model</a></code></li>
<li><code><a title="ivit_i.core.models.model.Model.get_model" href="#ivit_i.core.models.model.Model.get_model">get_model</a></code></li>
<li><code><a title="ivit_i.core.models.model.Model.get_subclasses" href="#ivit_i.core.models.model.Model.get_subclasses">get_subclasses</a></code></li>
<li><code><a title="ivit_i.core.models.model.Model.infer_async" href="#ivit_i.core.models.model.Model.infer_async">infer_async</a></code></li>
<li><code><a title="ivit_i.core.models.model.Model.infer_sync" href="#ivit_i.core.models.model.Model.infer_sync">infer_sync</a></code></li>
<li><code><a title="ivit_i.core.models.model.Model.is_ready" href="#ivit_i.core.models.model.Model.is_ready">is_ready</a></code></li>
<li><code><a title="ivit_i.core.models.model.Model.load" href="#ivit_i.core.models.model.Model.load">load</a></code></li>
<li><code><a title="ivit_i.core.models.model.Model.log_layers_info" href="#ivit_i.core.models.model.Model.log_layers_info">log_layers_info</a></code></li>
<li><code><a title="ivit_i.core.models.model.Model.parameters" href="#ivit_i.core.models.model.Model.parameters">parameters</a></code></li>
<li><code><a title="ivit_i.core.models.model.Model.postprocess" href="#ivit_i.core.models.model.Model.postprocess">postprocess</a></code></li>
<li><code><a title="ivit_i.core.models.model.Model.preprocess" href="#ivit_i.core.models.model.Model.preprocess">preprocess</a></code></li>
<li><code><a title="ivit_i.core.models.model.Model.raise_error" href="#ivit_i.core.models.model.Model.raise_error">raise_error</a></code></li>
<li><code><a title="ivit_i.core.models.model.Model.reshape" href="#ivit_i.core.models.model.Model.reshape">reshape</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="ivit_i.core.models.model.WrapperError" href="#ivit_i.core.models.model.WrapperError">WrapperError</a></code></h4>
</li>
<li>
<h4><code><a title="ivit_i.core.models.model.iModel" href="#ivit_i.core.models.model.iModel">iModel</a></code></h4>
<ul class="two-column">
<li><code><a title="ivit_i.core.models.model.iModel.get_fps" href="#ivit_i.core.models.model.iModel.get_fps">get_fps</a></code></li>
<li><code><a title="ivit_i.core.models.model.iModel.get_labels" href="#ivit_i.core.models.model.iModel.get_labels">get_labels</a></code></li>
<li><code><a title="ivit_i.core.models.model.iModel.get_thres" href="#ivit_i.core.models.model.iModel.get_thres">get_thres</a></code></li>
<li><code><a title="ivit_i.core.models.model.iModel.inference" href="#ivit_i.core.models.model.iModel.inference">inference</a></code></li>
<li><code><a title="ivit_i.core.models.model.iModel.release" href="#ivit_i.core.models.model.iModel.release">release</a></code></li>
<li><code><a title="ivit_i.core.models.model.iModel.set_inference" href="#ivit_i.core.models.model.iModel.set_inference">set_inference</a></code></li>
<li><code><a title="ivit_i.core.models.model.iModel.set_thres" href="#ivit_i.core.models.model.iModel.set_thres">set_thres</a></code></li>
<li><code><a title="ivit_i.core.models.model.iModel.sync_infer" href="#ivit_i.core.models.model.iModel.sync_infer">sync_infer</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>